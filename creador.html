<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>CV Profesional - Franklin Huicho</title>
    <style>
        :root { --sidebar-color: #6d6e71; --header-blue: #1b4b8a; }
        body { font-family: 'Helvetica', Arial, sans-serif; margin: 0; display: flex; background: #e0e0e0; }
        
        /* Controles - No se imprimen */
        .controles { width: 320px; background: #fff; padding: 20px; height: 100vh; position: fixed; overflow-y: auto; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
        .btn-add { background: var(--header-blue); color: white; border: none; padding: 8px; border-radius: 4px; width: 100%; cursor: pointer; margin-bottom: 10px; }
        .btn-print { background: #27ae60; color: white; border: none; padding: 15px; width: 100%; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 20px; }

        /* Estructura del CV */
        .preview { margin-left: 340px; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .hoja { width: 210mm; min-height: 297mm; background: white; display: flex; box-shadow: 0 0 15px rgba(0,0,0,0.2); margin-bottom: 20px; position: relative; }

        /* Columna Lateral (Gris) */
        .col-gris { width: 33%; background: var(--sidebar-bg, var(--sidebar-color)); color: white; padding: 40px 30px; }
        .foto-circulo { width: 160px; height: 160px; border-radius: 50%; border: 5px solid white; margin: 0 auto 30px; overflow: hidden; background: #ccc; }
        .foto-circulo img { width: 100%; height: 100%; object-fit: cover; }
        .side-sec { margin-top: 30px; }
        .side-tit { border-bottom: 2px solid white; font-weight: bold; text-transform: uppercase; padding-bottom: 5px; margin-bottom: 10px; font-size: 16px; }
        .side-txt { font-size: 13px; line-height: 1.6; margin-bottom: 5px; }

        /* Contenido Principal */
        .col-principal { width: 67%; padding: 50px 40px; }
        .nombre-top { color: #333; font-size: 45px; font-weight: bold; line-height: 1; margin-bottom: 40px; }
        .sec-tit { color: var(--header-blue); border-bottom: 2px solid var(--header-blue); font-weight: bold; text-transform: uppercase; padding-bottom: 5px; margin-top: 35px; margin-bottom: 15px; font-size: 18px; }
        .job-tit { font-weight: bold; font-size: 15px; margin-top: 10px; display: block; }
        .job-date { font-size: 13px; color: #666; }
        .job-list { padding-left: 20px; margin: 5px 0; font-size: 14px; line-height: 1.5; }

        @media print {
            .controles { display: none; }
            .preview { margin-left: 0; padding: 0; }
            .hoja { box-shadow: none; width: 100%; margin: 0; page-break-after: always; }
            body { background: white; }
        }
    </style>
</head>
<body>

<div class="controles">
    <h3>‚öôÔ∏è EDITOR ESTILO ROSAS</h3>
    <label>Tu Foto:</label>
    <input type="file" onchange="subirFoto(event)">
    
    <div style="background:#f9f9f9; padding:10px; margin-top:15px; border-radius:5px;">
        <label><b>Historial Laboral</b></label>
        <div id="editExp">
            <input type="text" value="CONSORCIO LEGION" oninput="upd()">
            <textarea placeholder="Tareas (una por l√≠nea)" oninput="upd()">Operario de Estructura&#10;Control de Calidad en Proceso Constructivo</textarea>
        </div>
        <button class="btn-add" onclick="addExp()">+ A√±adir Trabajo</button>
    </div>

    <button class="btn-print" onclick="window.print()">üñ®Ô∏è IMPRIMIR / PDF</button>
</div>

<div class="preview">
    <div class="hoja">
        <div class="col-gris">
            <div class="foto-circulo">
                <img id="outFoto" src="https://via.placeholder.com/160" alt="Foto">
            </div>
            <div class="side-sec">
                <p class="side-txt">üìû 910457625</p>
                <p class="side-txt">üìç Colcabamba, Tayacaja</p>
            </div>
            <div class="side-sec">
                <div class="side-tit">Aptitudes</div>
                <p class="side-txt">‚Ä¢ Responsabilidad</p>
                <p class="side-txt">‚Ä¢ Trabajo en equipo</p>
                <p class="side-txt">‚Ä¢ Puntualidad</p>
            </div>
            <div class="side-sec">
                <div class="side-tit">Veh√≠culo Propio</div>
                <p class="side-txt">S√≠</p>
            </div>
        </div>
        <div class="col-principal">
            <div class="nombre-top" id="outNom">FRANKLIN<br>HUICHO PARIONA</div>
            
            <div class="sec-tit">Resumen Profesional</div>
            <p style="font-size: 14px; line-height: 1.6;">Profesional T√©cnico en Producci√≥n Agropecuaria con experiencia operativa en construcci√≥n civil. Especialista en control de calidad y manejo de estructuras bajo normas de seguridad.</p>
            
            <div class="sec-tit">Historial Laboral</div>
            <div id="outHistorial">
                </div>
        </div>
    </div>

    <div class="hoja">
        <div class="col-gris" style="background: #58595b;">
            <div class="side-tit">Formaci√≥n</div>
            <p class="side-txt">2016<br>Profesional T√©cnico<br>I.E.S.T.P. Colcabamba</p>
        </div>
        <div class="col-principal">
            <div class="sec-tit">Certificaciones</div>
            <p>‚Ä¢ Producci√≥n de Plantas en Viveros (145 horas).</p>
            
            <div class="sec-tit">Referencias</div>
            <p><b>Ingenier√≠a de Obra</b> - Consorcio Legion.<br>Contacto directo bajo solicitud.</p>
        </div>
    </div>
</div>

<script>
    function subirFoto(e) {
        var reader = new FileReader();
        reader.onload = function(){ document.getElementById('outFoto').src = reader.result; }
        reader.readAsDataURL(e.target.files[0]);
    }

    function addExp() {
        const div = document.getElementById('editExp');
        div.innerHTML += '<input type="text" placeholder="Empresa" oninput="upd()"><textarea placeholder="Tareas" oninput="upd()"></textarea>';
    }

    function upd() {
        const inputs = document.querySelectorAll('#editExp input');
        const texts = document.querySelectorAll('#editExp textarea');
        let html = '';
        for(let i=0; i<inputs.length; i++) {
            if(inputs[i].value) {
                html += `<span class="job-tit">${inputs[i].value}</span><ul class="job-list">`;
                const lineas = texts[i].value.split('\n');
                lineas.forEach(l => { if(l) html += `<li>${l}</li>`; });
                html += `</ul>`;
            }
        }
        document.getElementById('outHistorial').innerHTML = html;
    }
    upd();
</script>

</body>
</html>
